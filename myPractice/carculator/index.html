<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>나의 쁘띠 계산기</title>
    <!-- Gaegu 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: Gaegu, sans-serif;
      }
      #wrapper {
        width: 400px;
        height: 500px;
        background-color: #ffb9de;
        margin: 64px auto 0;
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        align-items: center;
        padding-top: 16px;
      }
      #resultWindow {
        width: 360px;
        height: 100px;
        border-radius: 20px;
        background-color: #ffe2f1;
        line-height: calc(100px - 64px);
        overflow: hidden;
        text-align: right;
        padding: 32px;
        font-size: 28px;
      }
      #buttons {
        width: 360px;
        height: 320px;
        margin-top: 16px;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }
      button {
        width: 85px;
        height: 40px;
        font-family: Gaegu, sans-serif;
        font-size: 20px;
        outline: none;
        border: none;
        border-radius: 12px;
      }
      button:active {
        box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.2);
      }
      .symbols {
        background-color: #fff;
      }
      .numbers {
        background-color: #ffffd8;
      }
      #zero {
        width: calc(85px * 2.08);
      }
      #allClear {
        background-color: #37e1ff;
      }
      #clear {
        background-color: #a0efff;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
      <div id="resultWindow">0</div>
      <div id="buttons">
        <!-- onclick="" ? -->
        <button id="posinega" class="symbols">+/-</button>
        <button id="divide" class="symbols">÷</button>
        <button id="multiply" class="symbols">×</button>
        <button id="allClear">AC</button>
        <button id="seven" class="numbers">7</button>
        <button id="eight" class="numbers">8</button>
        <button id="nine" class="numbers">9</button>
        <button id="clear">C</button>
        <button id="four" class="numbers">4</button>
        <button id="five" class="numbers">5</button>
        <button id="six" class="numbers">6</button>
        <button id="minus" class="symbols">-</button>
        <button id="one" class="numbers">1</button>
        <button id="two" class="numbers">2</button>
        <button id="three" class="numbers">3</button>
        <button id="plus" class="symbols">+</button>
        <button id="zero" class="numbers">0</button>
        <button id="point" class="numbers">.</button>
        <button id="equal" class="symbols">=</button>
      </div>
    </div>

    <script>
      // 현재 총 기록 기억할 변수(연산자 우선순위 때문에 필요함)
      let totalSentence = ``;
      // 지금까지의 계산 결과
      let currentResult = 0;

      let currentWindow = document.querySelector("#resultWindow");
      const numbers = document.querySelectorAll(".numbers");
      const symbols = document.querySelectorAll(".symbols");

      // All Clear: 전부 초기화
      function allClear() {
        currentWindow.innerHTML = 0;
        totalSentence = ``;
        currentResult = 0;
      }

      document.querySelector("#allClear").addEventListener("click", allClear);

      // Clear: 현재 숫자만 초기화(이전 연산자까진 기억)
      function clear() {
        currentWindow.innerHTML = 0;
        // totalSentece나 currentResult에 저장 X
      }

      document.querySelector("#clear").addEventListener("click", clear);

      // 입력받은 숫자를 화면에 출력
      numbers.forEach((element) => {
        element.addEventListener("click", (e) => {
          let num = e.target.innerHTML; // console.log(num); // string으로 값 가져옴

          // 처음에 0이랑 . 걸러주면서 또 .은 한 번만 나오게 하면서 누르는 숫자 출력되게 하기
          if (currentWindow.innerHTML === "0" && num === "0") {
            currentWindow.innerHTML = num;
          } else if (currentWindow.innerHTML === "0" && num === ".") {
            currentWindow.innerHTML += num;
          } else if (
            currentWindow.innerHTML === "0" &&
            (num !== "0" || num !== ".")
          ) {
            currentWindow.innerHTML = num;
          } else {
            currentWindow.innerHTML += num;
          }
        });
      });

      // 숫자 입력-출력 후 연산자 눌렀을 때 화면에 보였던 숫자 저장
      function getNum() {
        // 숫자 받아오기
        let num = currentWindow.innerHTML;
        totalSentence += num;
        console.log(num);

        // 누른 연산자 뭔지 알고, totalSentence에도 넣고
        // 각 연산자로 계산한 결과 저장 (currentResult? 근데 연산자 우선순위 고려해야 해서 막... 100+35 // 까진 currentResult 135인데 여기에 *2 하면 170으로 바뀔 수 있다 이거 고려해야 됨)

        // 화면 초기화 또는 currentResult 띄우기?? 이건 계산기 좀 써보자

        // 현재 계산값 업데이트
      }

      symbols.forEach((element) => element.addEventListener("click", getNum));

      /////////////////////////////////////고민의 흔적///////////////

      // 일단 누르는 숫자가 출력되게 해보자!
      // 누른 숫자 받아서
      // 0일 때 currentResult.innerHTML = (새로운 숫자)
      // 0 아니면 currentResult.innerHTML += (새로운 숫자)
      // 제일 처음에 0 못 누르게 해야 함 반영도 안 되고

      // 연산자 눌렀을 때 currentNumber total로 들어감?
    </script>
  </body>
</html>
