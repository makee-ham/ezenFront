<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>랜덤 전교 성적 평균</title>
  </head>
  <body>
    <h4>목표를 F12에 놓고 스위치...</h4>
    <script>
      let everyScore = [];

      // 데이터 만들기
      for (let i = 0; i < 5; i++) {
        everyScore.push([]);
        for (let j = 0; j < 10; j++) {
          everyScore[i].push([]);
          for (let k = 0; k < 5; k++) {
            everyScore[i][j].push(Math.floor(Math.random() * 100) + 1);
          }
        }
      }
      console.log(everyScore);
      // 학급별 점수 모두 출력
      for (let i = 0; i < 5; i++) {
        for (let j = 0; j < 10; j++) {
          let tempText = `${i + 1}반 ${j + 1}번 학생: `;
          for (let k = 0; k < 5; k++) {
            tempText += `${everyScore[i][j][k]} `;
          }
          console.log(tempText);
        }
      }
      // 학급별 평균 점수
      let classAverage = [];
      for (let i = 0; i < 5; i++) {
        let tempStudentAverage = [];
        let classStudentsScore = 0;
        for (let j = 0; j < 10; j++) {
          let tempStudentScore = 0;
          for (let k = 0; k < 5; k++) {
            tempStudentScore += everyScore[i][j][k];
          }
          tempStudentAverage.push(tempStudentScore / 5);
        }
        tempStudentAverage.forEach((elem) => (classStudentsScore += elem));
        classAverage.push(Math.floor(classStudentsScore / 10));
      }
      classAverage.forEach((elem, index) =>
        console.log(`${index + 1}반 평균 점수: ${elem}점`)
      );
      // 학급별 1등의 평균 점수
      let firstPlaceEachClass = [];
      let findFirstPlace = 0;
      for (let i = 0; i < 5; i++) {
        let eachStudentScore = [];
        for (let j = 0; j < 10; j++) {
          let tempStudentScore = 0;
          for (let k = 0; k < 5; k++) {
            tempStudentScore += everyScore[i][j][k];
          }
          eachStudentScore.push(tempStudentScore / 5);
        }
        findFirstPlace = Math.max(...eachStudentScore);
        firstPlaceEachClass.push(findFirstPlace);
      }
      firstPlaceEachClass.forEach((elem, index) =>
        console.log(`${index + 1}반 1등: ${elem}점`)
      );
      // 전교 전체 평균
      let allStudentsScores = 0;
      for (let i = 0; i < 5; i++) {
        for (let j = 0; j < 10; j++) {
          for (let k = 0; k < 5; k++) {
            allStudentsScores += everyScore[i][j][k];
          }
        }
      }
      const allStudentsAverage = allStudentsScores / (5 * 5 * 10);
      console.log("전체 평균: " + allStudentsAverage);
    </script>
  </body>
</html>
